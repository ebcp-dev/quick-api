{"version":3,"sources":["../src/sequelize.js"],"names":["Sequelize","UserModel","DataModel","config","app","db","dbuser","dbpass","dbconfig","sequelize","User","Data","belongsTo","foreignKey","sync","then","console","log","emit"],"mappings":"AAAA;;AAEA;AACA,OAAOA,SAAP,MAAsB,WAAtB;AACA;AACA,SAASC,SAAT,QAA0B,eAA1B;AACA,SAASC,SAAT,QAA0B,eAA1B;AACA,OAAOC,MAAP,MAAmB,eAAnB;AACA,OAAOC,GAAP,MAAgB,UAAhB;AACA;AACA,MAAM,EAAEC,EAAF,EAAMC,MAAN,EAAcC,MAAd,EAAsBC,QAAtB,KAAmCL,MAAzC;AACA,OAAO,MAAMM,YAAY,IAAIT,SAAJ,CAAcK,EAAd,EAAkBC,MAAlB,EAA0BC,MAA1B,EAAkCC,QAAlC,CAAlB;;AAEP;AACA,OAAO,MAAME,OAAOT,UAAUQ,SAAV,EAAqBT,SAArB,CAAb;AACP,OAAO,MAAMW,OAAOT,UAAUO,SAAV,EAAqBT,SAArB,CAAb;AACP;AACAW,KAAKC,SAAL,CAAeF,IAAf,EAAqB,EAAEG,YAAY,QAAd,EAArB;;AAEAJ,UAAUK,IAAV,GAAiBC,IAAjB,CAAsB,MAAM;AAC1BC,UAAQC,GAAR,CAAa,gBAAeZ,EAAG,OAAMC,MAAO,GAA5C;AACAU,UAAQC,GAAR,CAAY,4BAAZ;AACA;AACAb,MAAIc,IAAJ,CAAS,iBAAT;AACD,CALD","file":"sequelize.js","sourcesContent":["/** @module src/sequelize */\n\n/** Import sequelize dependency. */\nimport Sequelize from 'sequelize';\n/** Import model definitions and database credentials. */\nimport { UserModel } from './models/User';\nimport { DataModel } from './models/Data';\nimport config from './config/keys';\nimport app from './server';\n/** Connect to database using config keys. */\nconst { db, dbuser, dbpass, dbconfig } = config;\nexport const sequelize = new Sequelize(db, dbuser, dbpass, dbconfig);\n\n/** Create models with imported definitions. */\nexport const User = UserModel(sequelize, Sequelize);\nexport const Data = DataModel(sequelize, Sequelize);\n/** User's primary key (id) will be Profile and Job's foreign key as 'userId'. */\nData.belongsTo(User, { foreignKey: 'userId' });\n\nsequelize.sync().then(() => {\n  console.log(`Connected to ${db} as ${dbuser}.`);\n  console.log('Database & tables created!');\n  /** Emit event once database has been created. */\n  app.emit('Database ready.');\n});\n"]}